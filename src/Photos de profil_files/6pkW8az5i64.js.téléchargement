if (self.CavalryLogger) { CavalryLogger.start_js(["bQ8Bc"]); }

__d("FeedStoryCategory",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,SHOWCASE:10,FB_SHORTS:11,TRENDING:12}}),null);
__d("XOcelotComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/ocelot/async_loader/",{publisher:{type:"Enum",required:!0,enumType:1},target_id:{type:"FBID"}})}),null);
__d("MOcelotComposerPlaceholderFormLoader",["DOM","EventListener","Keys","MComposerEntry","MPageController","Stratcom","XCIXActorFeatureLimitNoticeController","XOcelotComposerAsyncLoaderController","ge"],(function(a,b,c,d,e,f){e.exports={_isOpen:!1,_isSubmitting:!1,_viewport:HTMLElement,_textarea:HTMLInputElement,_submittingContainer:HTMLElement,_featureBlockContainer:null,_hasActiveFeatureLimitNotice:!1,initElements:function(a){var c=this;this._hasActiveFeatureLimitNotice=!!a.hasActiveFeatureLimitNotice;var d=b("XOcelotComposerAsyncLoaderController").getURIBuilder().setEnum("publisher",a.publisher).setFBID("target_id",a.targetId).getURI(),e=b("ge")("composer-async-loader-root");if(!e){a.elementsParams.forEach(function(a){b("EventListener").listen(a.element,"click",function(){b("MComposerEntry").invokeOcelot(d,!0,a.onOpenAction)})});return}this._viewport=b("ge")("viewport");this._submittingContainer=b("DOM").find(e,"div","composer-submitting");this._textarea=b("DOM").find(e,"textarea","composer-placeholder-textarea");this._placeholderComposerForm=b("DOM").find(e,"form","composer-placeholder-form");e=b("DOM").find(this._placeholderComposerForm,"div","cancel_composer");var f=[b("EventListener").listen(e,"click",function(){c.hideComposer()}),b("EventListener").listen(this._placeholderComposerForm,"submit",function(a){if(c._textarea.value.length===0){a.preventDefault();return!1}c._isSubmitting=!0;b("DOM").show(c._submittingContainer);return!0}),b("Stratcom").listen("click","show_composer",function(){if(c.showFeatureLimitNoticeIfAvailable())return;c.showComposer(a.autoFocus);b("MComposerEntry").invokeOcelot(d,!1,"status",function(){f.forEach(function(a){return a.remove()});return c._isOpen})})];this._placeholderComposerForm.style.display!=="none"&&(this._isOpen=!0,this._isSubmitting=!1,b("MComposerEntry").invokeOcelot(d,!1,"status",function(){f.forEach(function(a){return a.remove()});return c._isOpen}));a.elementsParams.forEach(function(e){e.element.onclick=null,b("EventListener").listen(e.element,"click",function(){c.handleOnClick(a,d,e.onOpenAction,f)}),b("EventListener").listen(e.element,"keydown",function(g){(g.keyCode===b("Keys").RETURN||g.keyCode===b("Keys").SPACE)&&c.handleOnClick(a,d,e.onOpenAction,f)})})},handleOnClick:function(a,c,d,e){var f=this;if(b("MComposerEntry").blockNavigateToComposer())return;if(this.showFeatureLimitNoticeIfAvailable())return;this.showComposer(a.autoFocus);this._isSubmitting=!1;b("MComposerEntry").invokeOcelot(c,!1,d,function(){e.forEach(function(a){return a.remove()});return f._isOpen})},showFeatureLimitNoticeIfAvailable:function(){if(!this._hasActiveFeatureLimitNotice)return!1;var a=b("XCIXActorFeatureLimitNoticeController").getURIBuilder().setEnum("sentry_category","status_update").getURI();b("MPageController").load(a);return!0},showComposer:function(a){this._isOpen=!0,b("DOM").show(this._placeholderComposerForm),b("DOM").hide(this._viewport),b("DOM").hide(this._submittingContainer),a&&this._textarea.focus()},hideComposer:function(){if(this._isSubmitting)return;this._isOpen=!1;b("DOM").show(this._viewport);b("DOM").hide(this._placeholderComposerForm)}}}),null);
__d("AdAllocationIntegrityGapsInfo",["FeedStoryCategory"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.story_category=a,this.dist_to_top=-1,this.dist_to_fixed=-1,this.dist_to_promo=-1,this.dist_to_sponsored=-1,this.dist_to_engagement=-1}var c=a.prototype;c.setDistToTop=function(a){this.dist_to_top=a};c.setDistIfAbsent=function(a,c){if(c<0||a===b("FeedStoryCategory").UNKNOWN||a===b("FeedStoryCategory").ORGANIC)return;switch(a){case b("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$1(c,this.dist_to_engagement);break;case b("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$1(c,this.dist_to_fixed);break;case b("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$1(c,this.dist_to_promo);break;case b("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$1(c,this.dist_to_sponsored);break}};c.$1=function(a,b){return b===-1?a:b};return a}();e.exports=a}),null);
__d("AdAllocationIntegrityUtils",["DataAttributeUtils","FBJSON","FeedStoryCategory"],(function(a,b,c,d,e,f){"use strict";var g="data-story_category",h="data-dedupekey";a={getFeedStoryCategory:function(a){var c=b("FBJSON").parse(a.getAttribute("data-ft"),e.id);a=b("DataAttributeUtils").getDataAttribute(a,g);if(a)switch(a){case"2":return b("FeedStoryCategory").ENGAGEMENT;case"3":return b("FeedStoryCategory").FIXED_POSITION;case"4":return b("FeedStoryCategory").PROMOTION;default:return b("FeedStoryCategory").UNKNOWN}else if("ei"in c)return b("FeedStoryCategory").SPONSORED;else return b("FeedStoryCategory").ORGANIC},isGapRuleCategory:function(a){if(a===b("FeedStoryCategory").SPONSORED||a===b("FeedStoryCategory").ENGAGEMENT||a===b("FeedStoryCategory").FIXED_POSITION||a===b("FeedStoryCategory").PROMOTION)return!0;else return!1},getDedupKey:function(a){return b("DataAttributeUtils").getDataAttribute(a,h)}};e.exports=a}),null);
__d("MEntstreamViewportTracking",["AdAllocationIntegrityGapsInfo","AdAllocationIntegrityUtils","Banzai","DataAttributeUtils","DOM","ErrorUtils","FBJSON","MHistory","MURI","MViewport","MViewportTracking","Stratcom","StratcomManager","Vector"],(function(a,b,c,d,e,f){"use strict";var g,h=51,i={},j=null,k=null,l=null;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.enableCacheReadStoryIds=!1,b)||babelHelpers.assertThisInitialized(c)}c.init=function(a){b("StratcomManager").enableDispatch(document,"scroll"),new c().init(a)};var d=c.prototype;d.init=function(b){b.enable_cache_read_story_ids&&n(),a.prototype.init.call(this,b)};d.getDataFromConfig=function(a){this.enableAdsAllocationIntegrityLogging=!!a.enable_ads_allocation_integrity_logging,this.enableCacheReadStoryIds=!!a.enable_cache_read_story_ids};d.__getStreamRoot=function(){this.$MEntstreamViewportTracking1||(this.$MEntstreamViewportTracking1=document.getElementById("root"));return this.$MEntstreamViewportTracking1};d.getFBFeedLocation=function(){return 1};d.getAllStories=function(){return b("DOM").scry(this.__getStreamRoot(),"article","story-div")};d.getTimeout=function(){return 300};d.getDataToLog=function(a){var c=Object.assign(b("FBJSON").parse(a.getAttribute("data-ft"),e.id),{evt:h});if(!this.isTimeTrackingEnabled){var d=b("DOM").scry(a,"*","data-is-cta").map(function(a){a=b("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});c.cta_types=d}if(this.enableAdsAllocationIntegrityLogging){d=b("AdAllocationIntegrityUtils").getFeedStoryCategory(a);var f=new(b("AdAllocationIntegrityGapsInfo"))(d),g=b("AdAllocationIntegrityUtils").getDedupKey(a);if(b("AdAllocationIntegrityUtils").isGapRuleCategory(d)&&g!==null){d=this.getAllStories();var i=-1;for(var j=d.length-1;j>=0;j--){var k=b("AdAllocationIntegrityUtils").getDedupKey(d[j]);if(i<0)k!==null&&g===k&&(i=j,f.setDistToTop(i+1));else{k=b("AdAllocationIntegrityUtils").getFeedStoryCategory(d[j]);b("AdAllocationIntegrityUtils").isGapRuleCategory(k)&&f.setDistIfAbsent(k,i-j)}}}Object.assign(c,f)}"getBoundingClientRect"in a?(k=a.getBoundingClientRect(),d=k.height,g=k.top+b("MViewport").getScrollTop()):(d=b("Vector").getDim(a).y,g=b("Vector").getPos(a).y);c.evt_value=d;c.offset=g;c.story_height=d;c.impression_type=b("MViewport").isLandscape()?"landscape":"portrait";return c};d.getStoryID=function(a){a=a.getAttribute("data-ft");return!a?null:b("FBJSON").parse(a,e.id).mf_story_key};d.sendDataToLog=function(a){b("Banzai").post("feed_tracking",{ft:a})};d.onUnload=function(){a.prototype.onUnload.call(this);if(!this.enableCacheReadStoryIds||!k)return;i[k]=this.readStoryIDs};d.getCachedReadStoryIDs=function(){if(!this.enableCacheReadStoryIds||!k)return;return l===k?null:i[k]||null};return c}(b("MViewportTracking"));function m(a){var c=a||b("MHistory").getPath();return c?(g||(g=b("ErrorUtils"))).guard(function(){return new(b("MURI"))(c).normalize().getPath().toLowerCase()})():null}function n(){j||(j=b("Stratcom").listen("m:page:request-sent",null,function(a){if(a&&a.getData){a=m(a.getData().path);a&&(delete i[a],l=a)}})),k=m()}e.exports=a}),null);
__d("MLoadTimeOutBanner",["Stratcom","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f){function g(a){a=document.getElementById(a);a&&(a.style.display="inherit")}f.init=function(a,c){var d=b("setTimeout")(g.bind(null,a),c);b("gkx")("883592")&&b("Stratcom").listen("m:page:unload",null,function(){b("Stratcom").removeCurrentListener(),b("clearTimeout")(d),window.disableInlinedPopUpBanner=!0})}}),null);